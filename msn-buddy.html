<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MSN Buddy Mini Game</title>
<style>
/* BASE */
body {
  margin:0;
  font-family:"Segoe UI", Tahoma, sans-serif;
  background:#ccefff;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

/* GAME CONTAINER */
.game-container {
  position:relative;
  width:400px;
  height:600px;
  background:rgba(255,255,255,0.4);
  backdrop-filter:blur(15px);
  border-radius:25px;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

/* SELECTION SCREEN */
.selection, .game-screen {
  width:100%;
  text-align:center;
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
.buddy-option {
  display:inline-block;
  margin:10px;
  cursor:pointer;
  border-radius:20px;
  padding:10px;
  background:linear-gradient(#fff,#9eefff);
  box-shadow:inset 0 2px 2px rgba(255,255,255,0.3),0 5px 12px rgba(0,0,0,0.25);
  transition:transform 0.2s;
}
.buddy-option:hover { transform:translateY(-5px); }

/* HOUSE + BUDDY */
.house-container {
  position:relative;
  width:100%;
  flex:1;
  display:flex;
  align-items:flex-end;
  justify-content:center;
  background-size:cover;
  background-position:center;
  border-radius:20px;
  margin-bottom:10px;
  overflow:hidden;
}
.buddy {
  width:100px;
  bottom:10px;
  transition:transform 0.2s;
}

/* ANIMATIONS */
@keyframes jump {0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);}}
.buddy.normal { animation:jump 1s ease-in-out infinite; }

@keyframes jump-excited {0%,100%{transform:translateY(0);}50%{transform:translateY(-25px);}}
.buddy.excited { animation:jump-excited 0.6s ease-in-out infinite; }

@keyframes jump-slow {0%,100%{transform:translateY(0);}50%{transform:translateY(-5px);}}
.buddy.slow { animation:jump-slow 1.5s ease-in-out infinite; }

@keyframes trick {0%{transform:translateY(0) rotate(0deg);}25%{transform:translateY(-20px) rotate(10deg);}50%{transform:translateY(-10px) rotate(-10deg);}75%{transform:translateY(-25px) rotate(15deg);}100%{transform:translateY(0) rotate(0deg);}}
.buddy.trick { animation:trick 1s ease-in-out; }

/* BUTTON PANEL */
.button-panel {
  display:flex;
  justify-content:space-around;
  width:100%;
  background:rgba(255,255,255,0.5);
  backdrop-filter:blur(15px);
  padding:10px 0;
}
.button-panel button {
  padding:10px 15px;
  border-radius:15px;
  border:none;
  cursor:pointer;
  background:linear-gradient(#fff,#9eefff);
  box-shadow:inset 0 2px 2px rgba(255,255,255,0.3),0 5px 12px rgba(0,0,0,0.25);
  font-weight:bold;
  transition:transform 0.2s;
}
.button-panel button:hover { transform:translateY(-3px); }

/* RETURN / NEW BUDDY */
.return-buttons {
  display:flex;
  justify-content:center;
  gap:20px;
  margin:10px 0;
}
.return-buttons a {
  padding:10px 15px;
  border-radius:15px;
  text-decoration:none;
  background:linear-gradient(#fff,#9eefff);
  color:#003b44;
  font-weight:bold;
  box-shadow:inset 0 2px 2px rgba(255,255,255,0.3),0 5px 12px rgba(0,0,0,0.25);
  transition:transform 0.2s;
}
.return-buttons a:hover { transform:translateY(-3px); }

/* FLOATING POINTS */
.floating-points {
  position:absolute;
  font-weight:bold;
  font-size:24px;
  color:#00bfff;
  pointer-events:none;
  left:50%;
  bottom:150px;
  transform:translateX(-50%);
  animation:floatUp 1s ease-out forwards;
}
@keyframes floatUp {0%{opacity:1;transform:translateX(-50%) translateY(0);}100%{opacity:0;transform:translateX(-50%) translateY(-50px);}}
</style>
</head>
<body>

<div class="game-container">

  <!-- SELECTION -->
  <div class="selection" id="selection-screen">
    <h2>Select your MSN Buddy!</h2>
    <div class="buddy-option" onclick="selectBuddy('blue')">
      <img src="IMG_1382.png" width="80"><br>Blue
    </div>
    <div class="buddy-option" onclick="selectBuddy('green')">
      <img src="IMG_1384.png" width="80"><br>Green
    </div>
    <div class="buddy-option" onclick="selectBuddy('pink')">
      <img src="IMG_1383.png" width="80"><br>Pink
    </div>
    <div class="buddy-option" onclick="selectBuddy('yellow')">
      <img src="IMG_1385.png" width="80"><br>Yellow
    </div>
  </div>

  <!-- GAME SCREEN -->
  <div class="game-screen" id="game-screen" style="display:none;">
    <div class="house-container" id="house">
      <img src="" class="buddy normal" id="buddy">
    </div>
    <div class="button-panel">
      <button onclick="feedBuddy()">Feed</button>
      <button onclick="playBuddy()">Play</button>
      <button onclick="sleepBuddy()">Sleep</button>
    </div>
    <div class="return-buttons">
      <a href="index.html">Return Home</a>
      <a href="#" onclick="selectNewBuddy()">Select New Buddy</a>
    </div>
  </div>

</div>

<script>
const buddies = {
  blue:{img:'IMG_1382.png', house:'IMG_1388.jpeg'},
  green:{img:'IMG_1384.png', house:'IMG_1387.jpeg'},
  pink:{img:'IMG_1383.png', house:'IMG_1386.jpeg'},
  yellow:{img:'IMG_1385.png', house:'IMG_1389.jpeg'}
};

let currentBuddy = localStorage.getItem('msnBuddy') || null;

/* SELECT BUDDY */
function selectBuddy(color){
  currentBuddy = color;
  localStorage.setItem('msnBuddy', color);
  startGame();
}

function startGame(){
  document.getElementById('selection-screen').style.display='none';
  document.getElementById('game-screen').style.display='flex';
  const buddyImg = document.getElementById('buddy');
  const houseDiv = document.getElementById('house');
  buddyImg.src = buddies[currentBuddy].img;
  houseDiv.style.backgroundImage = `url(${buddies[currentBuddy].house})`;
  buddyImg.className='buddy normal';
}

/* NEW BUDDY */
function selectNewBuddy(){
  localStorage.removeItem('msnBuddy');
  currentBuddy=null;
  document.getElementById('game-screen').style.display='none';
  document.getElementById('selection-screen').style.display='flex';
}

/* INTERACTIONS */
function feedBuddy(){
  showFloatingPoints(Math.random() < 0.5 ? '+1' : '+2');
  const buddy = document.getElementById('buddy');
  buddy.className='buddy excited';
  setTimeout(()=>{buddy.className='buddy normal';},1000);
}

function playBuddy(){
  const buddy = document.getElementById('buddy');
  buddy.classList.add('trick');
  setTimeout(()=>{buddy.classList.remove('trick');},1000);
}

function sleepBuddy(){
  const buddy = document.getElementById('buddy');
  buddy.className='buddy slow';
  setTimeout(()=>{buddy.className='buddy normal';},2000);
}

/* FLOATING POINTS */
function showFloatingPoints(text){
  const points = document.createElement('div');
  points.className='floating-points';
  points.innerText=text;
  document.querySelector('.game-container').appendChild(points);
  setTimeout(()=>points.remove(),1000);
}

/* AUTO START IF SAVED */
if(currentBuddy) startGame();
</script>

</body>
</html>
